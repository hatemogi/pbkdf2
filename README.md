# PBKDF2로 안전하게 패스워드 보관하기

## 안전한 패스워드 저장 

웹서비스를 운영하며 사용자 패스워드같은 민감한 정보를 보관할 때에는 안전한 해쉬 알고리즘을 써서 보관해야 합니다. 기본적으로는 패스워드가 유출되지 않도록 만전을 다하는 것이 우선이지만, 안타깝게도 유출 사고가 종종 일어나고, 우리가 운영하는 서비스도 예외라는 보장은 없습니다. 

크래커가 패스워드를 알아낸다면, 훔쳐낸 그 사이트에 로그인해서 악의적 활동을 할 수 있을 뿐만 아니라, 다른 사이트에 접근해서 제2의 피해를 만들어 내기 쉽습니다. 많은 사람들이 여러 서비스에 동일한 아이디와 패스워드를 사용하기 때문입니다. 

예를 들어, 제가 만약 Gmail서비스와 신생 소규모 업체, 허술닷컴 서비스에 동일한 아이디와 패스워드를 썼다고 가정해보죠. 구글이야 철옹성같은 보안으로 잘 지킬테니 믿음직하지만, 안타깝게도 허술닷컴사가 크래커의 침입으로 사용자의 패스워드를 도난당했다면, 크래커는 해당 로그인 정보를 토대로, 유명 서비스에도 로그인을 시도해볼 것입니다. Gmail, Facebook, Twitter, Amazon, 네이버등 유명 사이트에 다 시도해보겠지요.

그래서 사용자 입장에서는, 각 사이트별로 같은 아이디를 쓰는 것까지는 괜찮지만, 패스워드는 각각 다르게 쓰는 것이 좋습니다. 아니면 최소한 믿음직한 서비스와, 아직 신뢰할 수 없는 사이트의 패스워드를 분리하는 것이 좋습니다. 한 3단계로 패스워드를 구분하여, 금융 인증서 패스워드처럼 노출시 가장 위험한 서비스에 사용하는 패스워드, 믿음직한 서비스에 쓰는 패스워드, 마지막으로, 듣보잡 서비스에 쓰는 패스워드로 나눠서 사용하는 것도 괜찮은 방법이겠습니다.

다시 개발자 입장으로 돌아와서, 서비스를 개발해 운영하는 입장에서는, 패스워드를 안전하게 보관할 책임이 있습니다. 패스워드 정보가 유출되더라도, 원래의 패스워드를 알아낼 수 없어야 합니다. 무슨 얘긴가요, 패스워드가 유출되더라도 패스워드를 알아낼 수 없어야한다니?

서비스 입장에서 패스워드를 보관하는 이유는, 로그인을 허용할 때 해당 아이디의 사용자가 맞는지를 검증하려는 목적입니다. 검증은 가능하게 하되, 원문을 알아내지 못하게 하면, 방금 얘기한 “유출되더라도 알아낼 수 없다”고 말할 수 있게 됩니다.

(쓰는 중)
